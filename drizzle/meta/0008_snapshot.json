{
  "id": "061b8353-3aa9-4200-ba8f-4d6f0ff2fc74",
  "prevId": "4396a778-fbd7-42e1-a973-3354f74a9c66",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.account": {
      "name": "account",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "accountId": {
          "name": "accountId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "providerId": {
          "name": "providerId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "userId": {
          "name": "userId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "accessToken": {
          "name": "accessToken",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "refreshToken": {
          "name": "refreshToken",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "idToken": {
          "name": "idToken",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "accessTokenExpiresAt": {
          "name": "accessTokenExpiresAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "refreshTokenExpiresAt": {
          "name": "refreshTokenExpiresAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "scope": {
          "name": "scope",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "password": {
          "name": "password",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "account_userId_user_id_fk": {
          "name": "account_userId_user_id_fk",
          "tableFrom": "account",
          "tableTo": "user",
          "columnsFrom": [
            "userId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.coupon": {
      "name": "coupon",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "organizationId": {
          "name": "organizationId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "code": {
          "name": "code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "discountType": {
          "name": "discountType",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "discountValue": {
          "name": "discountValue",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "applicablePlanIds": {
          "name": "applicablePlanIds",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "maxRedemptions": {
          "name": "maxRedemptions",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "redemptionCount": {
          "name": "redemptionCount",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "expiresAt": {
          "name": "expiresAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "coupon_organization_idx": {
          "name": "coupon_organization_idx",
          "columns": [
            {
              "expression": "organizationId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "coupon_code_idx": {
          "name": "coupon_code_idx",
          "columns": [
            {
              "expression": "organizationId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "code",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "coupon_status_idx": {
          "name": "coupon_status_idx",
          "columns": [
            {
              "expression": "organizationId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "coupon_organizationId_organization_id_fk": {
          "name": "coupon_organizationId_organization_id_fk",
          "tableFrom": "coupon",
          "tableTo": "organization",
          "columnsFrom": [
            "organizationId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.deal": {
      "name": "deal",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "organizationId": {
          "name": "organizationId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "tenantOrganizationId": {
          "name": "tenantOrganizationId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "pipelineId": {
          "name": "pipelineId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "stageId": {
          "name": "stageId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "value": {
          "name": "value",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "assignedToUserId": {
          "name": "assignedToUserId",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "assignedToAI": {
          "name": "assignedToAI",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "linkedSubscriptionId": {
          "name": "linkedSubscriptionId",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "linkedTrialId": {
          "name": "linkedTrialId",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "manualScore": {
          "name": "manualScore",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "aiScore": {
          "name": "aiScore",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "badges": {
          "name": "badges",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "customFields": {
          "name": "customFields",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "nextTask": {
          "name": "nextTask",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "deal_organization_idx": {
          "name": "deal_organization_idx",
          "columns": [
            {
              "expression": "organizationId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "deal_tenant_org_idx": {
          "name": "deal_tenant_org_idx",
          "columns": [
            {
              "expression": "tenantOrganizationId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "deal_pipeline_idx": {
          "name": "deal_pipeline_idx",
          "columns": [
            {
              "expression": "pipelineId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "deal_stage_idx": {
          "name": "deal_stage_idx",
          "columns": [
            {
              "expression": "stageId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "deal_assigned_idx": {
          "name": "deal_assigned_idx",
          "columns": [
            {
              "expression": "assignedToUserId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "deal_organizationId_organization_id_fk": {
          "name": "deal_organizationId_organization_id_fk",
          "tableFrom": "deal",
          "tableTo": "organization",
          "columnsFrom": [
            "organizationId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "deal_tenantOrganizationId_tenant_organization_id_fk": {
          "name": "deal_tenantOrganizationId_tenant_organization_id_fk",
          "tableFrom": "deal",
          "tableTo": "tenant_organization",
          "columnsFrom": [
            "tenantOrganizationId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "deal_pipelineId_pipeline_id_fk": {
          "name": "deal_pipelineId_pipeline_id_fk",
          "tableFrom": "deal",
          "tableTo": "pipeline",
          "columnsFrom": [
            "pipelineId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "deal_stageId_pipeline_stage_id_fk": {
          "name": "deal_stageId_pipeline_stage_id_fk",
          "tableFrom": "deal",
          "tableTo": "pipeline_stage",
          "columnsFrom": [
            "stageId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "deal_assignedToUserId_user_id_fk": {
          "name": "deal_assignedToUserId_user_id_fk",
          "tableFrom": "deal",
          "tableTo": "user",
          "columnsFrom": [
            "assignedToUserId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.deal_activity": {
      "name": "deal_activity",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "dealId": {
          "name": "dealId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "activityType": {
          "name": "activityType",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "userId": {
          "name": "userId",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "aiAgentId": {
          "name": "aiAgentId",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "deal_activity_deal_idx": {
          "name": "deal_activity_deal_idx",
          "columns": [
            {
              "expression": "dealId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "deal_activity_created_idx": {
          "name": "deal_activity_created_idx",
          "columns": [
            {
              "expression": "dealId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "createdAt",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "deal_activity_dealId_deal_id_fk": {
          "name": "deal_activity_dealId_deal_id_fk",
          "tableFrom": "deal_activity",
          "tableTo": "deal",
          "columnsFrom": [
            "dealId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "deal_activity_userId_user_id_fk": {
          "name": "deal_activity_userId_user_id_fk",
          "tableFrom": "deal_activity",
          "tableTo": "user",
          "columnsFrom": [
            "userId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.deal_contact": {
      "name": "deal_contact",
      "schema": "",
      "columns": {
        "dealId": {
          "name": "dealId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "tenantUserId": {
          "name": "tenantUserId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'contact'"
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "deal_contact_deal_idx": {
          "name": "deal_contact_deal_idx",
          "columns": [
            {
              "expression": "dealId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "deal_contact_tenant_user_idx": {
          "name": "deal_contact_tenant_user_idx",
          "columns": [
            {
              "expression": "tenantUserId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "deal_contact_dealId_deal_id_fk": {
          "name": "deal_contact_dealId_deal_id_fk",
          "tableFrom": "deal_contact",
          "tableTo": "deal",
          "columnsFrom": [
            "dealId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "deal_contact_tenantUserId_tenant_user_id_fk": {
          "name": "deal_contact_tenantUserId_tenant_user_id_fk",
          "tableFrom": "deal_contact",
          "tableTo": "tenant_user",
          "columnsFrom": [
            "tenantUserId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "deal_contact_dealId_tenantUserId_pk": {
          "name": "deal_contact_dealId_tenantUserId_pk",
          "columns": [
            "dealId",
            "tenantUserId"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.invitation": {
      "name": "invitation",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "organizationId": {
          "name": "organizationId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'member'"
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "expiresAt": {
          "name": "expiresAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "invitation_organizationId_organization_id_fk": {
          "name": "invitation_organizationId_organization_id_fk",
          "tableFrom": "invitation",
          "tableTo": "organization",
          "columnsFrom": [
            "organizationId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.knowledge_article": {
      "name": "knowledge_article",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "organizationId": {
          "name": "organizationId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tags": {
          "name": "tags",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "views": {
          "name": "views",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "publishedAt": {
          "name": "publishedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "createdByUserId": {
          "name": "createdByUserId",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updatedByUserId": {
          "name": "updatedByUserId",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "knowledge_article_organization_idx": {
          "name": "knowledge_article_organization_idx",
          "columns": [
            {
              "expression": "organizationId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "knowledge_article_status_idx": {
          "name": "knowledge_article_status_idx",
          "columns": [
            {
              "expression": "organizationId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "knowledge_article_category_idx": {
          "name": "knowledge_article_category_idx",
          "columns": [
            {
              "expression": "organizationId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "category",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "knowledge_article_slug_idx": {
          "name": "knowledge_article_slug_idx",
          "columns": [
            {
              "expression": "organizationId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "slug",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "knowledge_article_organizationId_organization_id_fk": {
          "name": "knowledge_article_organizationId_organization_id_fk",
          "tableFrom": "knowledge_article",
          "tableTo": "organization",
          "columnsFrom": [
            "organizationId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "knowledge_article_createdByUserId_user_id_fk": {
          "name": "knowledge_article_createdByUserId_user_id_fk",
          "tableFrom": "knowledge_article",
          "tableTo": "user",
          "columnsFrom": [
            "createdByUserId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "knowledge_article_updatedByUserId_user_id_fk": {
          "name": "knowledge_article_updatedByUserId_user_id_fk",
          "tableFrom": "knowledge_article",
          "tableTo": "user",
          "columnsFrom": [
            "updatedByUserId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.member": {
      "name": "member",
      "schema": "",
      "columns": {
        "organizationId": {
          "name": "organizationId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "userId": {
          "name": "userId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'member'"
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "member_organizationId_organization_id_fk": {
          "name": "member_organizationId_organization_id_fk",
          "tableFrom": "member",
          "tableTo": "organization",
          "columnsFrom": [
            "organizationId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "member_userId_user_id_fk": {
          "name": "member_userId_user_id_fk",
          "tableFrom": "member",
          "tableTo": "user",
          "columnsFrom": [
            "userId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "member_organizationId_userId_pk": {
          "name": "member_organizationId_userId_pk",
          "columns": [
            "organizationId",
            "userId"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.organization": {
      "name": "organization",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "logo": {
          "name": "logo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "organization_slug_unique": {
          "name": "organization_slug_unique",
          "nullsNotDistinct": false,
          "columns": [
            "slug"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.pipeline": {
      "name": "pipeline",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "tenantOrganizationId": {
          "name": "tenantOrganizationId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "isDefault": {
          "name": "isDefault",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "pipeline_tenant_org_idx": {
          "name": "pipeline_tenant_org_idx",
          "columns": [
            {
              "expression": "tenantOrganizationId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "pipeline_tenantOrganizationId_tenant_organization_id_fk": {
          "name": "pipeline_tenantOrganizationId_tenant_organization_id_fk",
          "tableFrom": "pipeline",
          "tableTo": "tenant_organization",
          "columnsFrom": [
            "tenantOrganizationId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.pipeline_stage": {
      "name": "pipeline_stage",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "pipelineId": {
          "name": "pipelineId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "order": {
          "name": "order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "color": {
          "name": "color",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'gray'"
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "pipeline_stage_pipeline_idx": {
          "name": "pipeline_stage_pipeline_idx",
          "columns": [
            {
              "expression": "pipelineId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "pipeline_stage_order_idx": {
          "name": "pipeline_stage_order_idx",
          "columns": [
            {
              "expression": "pipelineId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "order",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "pipeline_stage_pipelineId_pipeline_id_fk": {
          "name": "pipeline_stage_pipelineId_pipeline_id_fk",
          "tableFrom": "pipeline_stage",
          "tableTo": "pipeline",
          "columnsFrom": [
            "pipelineId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.playbook": {
      "name": "playbook",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "organizationId": {
          "name": "organizationId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'manual'"
        },
        "steps": {
          "name": "steps",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "triggers": {
          "name": "triggers",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "actions": {
          "name": "actions",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tags": {
          "name": "tags",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "createdByUserId": {
          "name": "createdByUserId",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updatedByUserId": {
          "name": "updatedByUserId",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "playbook_organization_idx": {
          "name": "playbook_organization_idx",
          "columns": [
            {
              "expression": "organizationId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "playbook_type_idx": {
          "name": "playbook_type_idx",
          "columns": [
            {
              "expression": "organizationId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "playbook_status_idx": {
          "name": "playbook_status_idx",
          "columns": [
            {
              "expression": "organizationId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "playbook_category_idx": {
          "name": "playbook_category_idx",
          "columns": [
            {
              "expression": "organizationId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "category",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "playbook_organizationId_organization_id_fk": {
          "name": "playbook_organizationId_organization_id_fk",
          "tableFrom": "playbook",
          "tableTo": "organization",
          "columnsFrom": [
            "organizationId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "playbook_createdByUserId_user_id_fk": {
          "name": "playbook_createdByUserId_user_id_fk",
          "tableFrom": "playbook",
          "tableTo": "user",
          "columnsFrom": [
            "createdByUserId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "playbook_updatedByUserId_user_id_fk": {
          "name": "playbook_updatedByUserId_user_id_fk",
          "tableFrom": "playbook",
          "tableTo": "user",
          "columnsFrom": [
            "updatedByUserId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.product_add_on": {
      "name": "product_add_on",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "organizationId": {
          "name": "organizationId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "pricingModel": {
          "name": "pricingModel",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'flat'"
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "product_add_on_organization_idx": {
          "name": "product_add_on_organization_idx",
          "columns": [
            {
              "expression": "organizationId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "product_add_on_status_idx": {
          "name": "product_add_on_status_idx",
          "columns": [
            {
              "expression": "organizationId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "product_add_on_organizationId_organization_id_fk": {
          "name": "product_add_on_organizationId_organization_id_fk",
          "tableFrom": "product_add_on",
          "tableTo": "organization",
          "columnsFrom": [
            "organizationId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.product_add_on_pricing": {
      "name": "product_add_on_pricing",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "productAddOnId": {
          "name": "productAddOnId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "pricingType": {
          "name": "pricingType",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'base'"
        },
        "region": {
          "name": "region",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "currency": {
          "name": "currency",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "amount": {
          "name": "amount",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "interval": {
          "name": "interval",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "perSeatAmount": {
          "name": "perSeatAmount",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "usageMeterId": {
          "name": "usageMeterId",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "usageTiers": {
          "name": "usageTiers",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "product_add_on_pricing_add_on_idx": {
          "name": "product_add_on_pricing_add_on_idx",
          "columns": [
            {
              "expression": "productAddOnId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "product_add_on_pricing_type_idx": {
          "name": "product_add_on_pricing_type_idx",
          "columns": [
            {
              "expression": "productAddOnId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "pricingType",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "product_add_on_pricing_productAddOnId_product_add_on_id_fk": {
          "name": "product_add_on_pricing_productAddOnId_product_add_on_id_fk",
          "tableFrom": "product_add_on_pricing",
          "tableTo": "product_add_on",
          "columnsFrom": [
            "productAddOnId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.product_family": {
      "name": "product_family",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "organizationId": {
          "name": "organizationId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "product_family_organization_idx": {
          "name": "product_family_organization_idx",
          "columns": [
            {
              "expression": "organizationId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "product_family_organizationId_organization_id_fk": {
          "name": "product_family_organizationId_organization_id_fk",
          "tableFrom": "product_family",
          "tableTo": "organization",
          "columnsFrom": [
            "organizationId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.product_feature": {
      "name": "product_feature",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "productPlanId": {
          "name": "productPlanId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "order": {
          "name": "order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "product_feature_plan_idx": {
          "name": "product_feature_plan_idx",
          "columns": [
            {
              "expression": "productPlanId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "product_feature_order_idx": {
          "name": "product_feature_order_idx",
          "columns": [
            {
              "expression": "productPlanId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "order",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "product_feature_productPlanId_product_plan_id_fk": {
          "name": "product_feature_productPlanId_product_plan_id_fk",
          "tableFrom": "product_feature",
          "tableTo": "product_plan",
          "columnsFrom": [
            "productPlanId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.product_feature_flag": {
      "name": "product_feature_flag",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "productPlanId": {
          "name": "productPlanId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "flagKey": {
          "name": "flagKey",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "flagValue": {
          "name": "flagValue",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'true'"
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "product_feature_flag_plan_idx": {
          "name": "product_feature_flag_plan_idx",
          "columns": [
            {
              "expression": "productPlanId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "product_feature_flag_key_idx": {
          "name": "product_feature_flag_key_idx",
          "columns": [
            {
              "expression": "productPlanId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "flagKey",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "product_feature_flag_productPlanId_product_plan_id_fk": {
          "name": "product_feature_flag_productPlanId_product_plan_id_fk",
          "tableFrom": "product_feature_flag",
          "tableTo": "product_plan",
          "columnsFrom": [
            "productPlanId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.product_plan": {
      "name": "product_plan",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "organizationId": {
          "name": "organizationId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "productFamilyId": {
          "name": "productFamilyId",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "pricingModel": {
          "name": "pricingModel",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'flat'"
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "product_plan_organization_idx": {
          "name": "product_plan_organization_idx",
          "columns": [
            {
              "expression": "organizationId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "product_plan_family_idx": {
          "name": "product_plan_family_idx",
          "columns": [
            {
              "expression": "productFamilyId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "product_plan_status_idx": {
          "name": "product_plan_status_idx",
          "columns": [
            {
              "expression": "organizationId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "product_plan_organizationId_organization_id_fk": {
          "name": "product_plan_organizationId_organization_id_fk",
          "tableFrom": "product_plan",
          "tableTo": "organization",
          "columnsFrom": [
            "organizationId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "product_plan_productFamilyId_product_family_id_fk": {
          "name": "product_plan_productFamilyId_product_family_id_fk",
          "tableFrom": "product_plan",
          "tableTo": "product_family",
          "columnsFrom": [
            "productFamilyId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.product_pricing": {
      "name": "product_pricing",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "productPlanId": {
          "name": "productPlanId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "pricingType": {
          "name": "pricingType",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'base'"
        },
        "region": {
          "name": "region",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "currency": {
          "name": "currency",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "amount": {
          "name": "amount",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "interval": {
          "name": "interval",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "perSeatAmount": {
          "name": "perSeatAmount",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "usageMeterId": {
          "name": "usageMeterId",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "usageTiers": {
          "name": "usageTiers",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "product_pricing_plan_idx": {
          "name": "product_pricing_plan_idx",
          "columns": [
            {
              "expression": "productPlanId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "product_pricing_type_idx": {
          "name": "product_pricing_type_idx",
          "columns": [
            {
              "expression": "productPlanId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "pricingType",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "product_pricing_region_idx": {
          "name": "product_pricing_region_idx",
          "columns": [
            {
              "expression": "productPlanId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "region",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "product_pricing_productPlanId_product_plan_id_fk": {
          "name": "product_pricing_productPlanId_product_plan_id_fk",
          "tableFrom": "product_pricing",
          "tableTo": "product_plan",
          "columnsFrom": [
            "productPlanId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.session": {
      "name": "session",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "expiresAt": {
          "name": "expiresAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "token": {
          "name": "token",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "ipAddress": {
          "name": "ipAddress",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "userAgent": {
          "name": "userAgent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "userId": {
          "name": "userId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "session_userId_user_id_fk": {
          "name": "session_userId_user_id_fk",
          "tableFrom": "session",
          "tableTo": "user",
          "columnsFrom": [
            "userId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "session_token_unique": {
          "name": "session_token_unique",
          "nullsNotDistinct": false,
          "columns": [
            "token"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.subscription": {
      "name": "subscription",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "organizationId": {
          "name": "organizationId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "tenantOrganizationId": {
          "name": "tenantOrganizationId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "subscriptionNumber": {
          "name": "subscriptionNumber",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "productPlanId": {
          "name": "productPlanId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "billingCycle": {
          "name": "billingCycle",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'monthly'"
        },
        "currentPeriodStart": {
          "name": "currentPeriodStart",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "currentPeriodEnd": {
          "name": "currentPeriodEnd",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "mrr": {
          "name": "mrr",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "seats": {
          "name": "seats",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "paymentMethodId": {
          "name": "paymentMethodId",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "linkedDealId": {
          "name": "linkedDealId",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "couponId": {
          "name": "couponId",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "subscription_organization_idx": {
          "name": "subscription_organization_idx",
          "columns": [
            {
              "expression": "organizationId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "subscription_tenant_org_idx": {
          "name": "subscription_tenant_org_idx",
          "columns": [
            {
              "expression": "tenantOrganizationId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "subscription_number_idx": {
          "name": "subscription_number_idx",
          "columns": [
            {
              "expression": "organizationId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "subscriptionNumber",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "subscription_status_idx": {
          "name": "subscription_status_idx",
          "columns": [
            {
              "expression": "organizationId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "subscription_plan_idx": {
          "name": "subscription_plan_idx",
          "columns": [
            {
              "expression": "productPlanId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "subscription_organizationId_organization_id_fk": {
          "name": "subscription_organizationId_organization_id_fk",
          "tableFrom": "subscription",
          "tableTo": "organization",
          "columnsFrom": [
            "organizationId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "subscription_tenantOrganizationId_tenant_organization_id_fk": {
          "name": "subscription_tenantOrganizationId_tenant_organization_id_fk",
          "tableFrom": "subscription",
          "tableTo": "tenant_organization",
          "columnsFrom": [
            "tenantOrganizationId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "subscription_productPlanId_product_plan_id_fk": {
          "name": "subscription_productPlanId_product_plan_id_fk",
          "tableFrom": "subscription",
          "tableTo": "product_plan",
          "columnsFrom": [
            "productPlanId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "subscription_linkedDealId_deal_id_fk": {
          "name": "subscription_linkedDealId_deal_id_fk",
          "tableFrom": "subscription",
          "tableTo": "deal",
          "columnsFrom": [
            "linkedDealId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "subscription_couponId_coupon_id_fk": {
          "name": "subscription_couponId_coupon_id_fk",
          "tableFrom": "subscription",
          "tableTo": "coupon",
          "columnsFrom": [
            "couponId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.subscription_activity": {
      "name": "subscription_activity",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "subscriptionId": {
          "name": "subscriptionId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "activityType": {
          "name": "activityType",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "userId": {
          "name": "userId",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "aiAgentId": {
          "name": "aiAgentId",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "subscription_activity_subscription_idx": {
          "name": "subscription_activity_subscription_idx",
          "columns": [
            {
              "expression": "subscriptionId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "subscription_activity_created_idx": {
          "name": "subscription_activity_created_idx",
          "columns": [
            {
              "expression": "subscriptionId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "createdAt",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "subscription_activity_subscriptionId_subscription_id_fk": {
          "name": "subscription_activity_subscriptionId_subscription_id_fk",
          "tableFrom": "subscription_activity",
          "tableTo": "subscription",
          "columnsFrom": [
            "subscriptionId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "subscription_activity_userId_user_id_fk": {
          "name": "subscription_activity_userId_user_id_fk",
          "tableFrom": "subscription_activity",
          "tableTo": "user",
          "columnsFrom": [
            "userId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.subscription_add_on": {
      "name": "subscription_add_on",
      "schema": "",
      "columns": {
        "subscriptionId": {
          "name": "subscriptionId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "productAddOnId": {
          "name": "productAddOnId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "quantity": {
          "name": "quantity",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "amount": {
          "name": "amount",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "subscription_add_on_subscription_idx": {
          "name": "subscription_add_on_subscription_idx",
          "columns": [
            {
              "expression": "subscriptionId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "subscription_add_on_add_on_idx": {
          "name": "subscription_add_on_add_on_idx",
          "columns": [
            {
              "expression": "productAddOnId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "subscription_add_on_subscriptionId_subscription_id_fk": {
          "name": "subscription_add_on_subscriptionId_subscription_id_fk",
          "tableFrom": "subscription_add_on",
          "tableTo": "subscription",
          "columnsFrom": [
            "subscriptionId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "subscription_add_on_productAddOnId_product_add_on_id_fk": {
          "name": "subscription_add_on_productAddOnId_product_add_on_id_fk",
          "tableFrom": "subscription_add_on",
          "tableTo": "product_add_on",
          "columnsFrom": [
            "productAddOnId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "subscription_add_on_subscriptionId_productAddOnId_pk": {
          "name": "subscription_add_on_subscriptionId_productAddOnId_pk",
          "columns": [
            "subscriptionId",
            "productAddOnId"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.tenant_organization": {
      "name": "tenant_organization",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "organizationId": {
          "name": "organizationId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "logo": {
          "name": "logo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "website": {
          "name": "website",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "industry": {
          "name": "industry",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "subscriptionPlan": {
          "name": "subscriptionPlan",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'free'"
        },
        "subscriptionStatus": {
          "name": "subscriptionStatus",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'active'"
        },
        "billingEmail": {
          "name": "billingEmail",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "billingAddress": {
          "name": "billingAddress",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tags": {
          "name": "tags",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "assignedToUserId": {
          "name": "assignedToUserId",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "tenant_org_organization_idx": {
          "name": "tenant_org_organization_idx",
          "columns": [
            {
              "expression": "organizationId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tenant_org_slug_idx": {
          "name": "tenant_org_slug_idx",
          "columns": [
            {
              "expression": "organizationId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "slug",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tenant_org_assigned_idx": {
          "name": "tenant_org_assigned_idx",
          "columns": [
            {
              "expression": "assignedToUserId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tenant_organization_organizationId_organization_id_fk": {
          "name": "tenant_organization_organizationId_organization_id_fk",
          "tableFrom": "tenant_organization",
          "tableTo": "organization",
          "columnsFrom": [
            "organizationId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "tenant_organization_assignedToUserId_user_id_fk": {
          "name": "tenant_organization_assignedToUserId_user_id_fk",
          "tableFrom": "tenant_organization",
          "tableTo": "user",
          "columnsFrom": [
            "assignedToUserId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.tenant_user": {
      "name": "tenant_user",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "tenantOrganizationId": {
          "name": "tenantOrganizationId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "phone": {
          "name": "phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "avatarUrl": {
          "name": "avatarUrl",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'user'"
        },
        "isOwner": {
          "name": "isOwner",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "lastActivityAt": {
          "name": "lastActivityAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "tenant_user_tenant_org_idx": {
          "name": "tenant_user_tenant_org_idx",
          "columns": [
            {
              "expression": "tenantOrganizationId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tenant_user_email_idx": {
          "name": "tenant_user_email_idx",
          "columns": [
            {
              "expression": "tenantOrganizationId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "email",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tenant_user_tenantOrganizationId_tenant_organization_id_fk": {
          "name": "tenant_user_tenantOrganizationId_tenant_organization_id_fk",
          "tableFrom": "tenant_user",
          "tableTo": "tenant_organization",
          "columnsFrom": [
            "tenantOrganizationId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ticket": {
      "name": "ticket",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "organizationId": {
          "name": "organizationId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "ticketNumber": {
          "name": "ticketNumber",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "tenantUserId": {
          "name": "tenantUserId",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'open'"
        },
        "priority": {
          "name": "priority",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'normal'"
        },
        "assignedToUserId": {
          "name": "assignedToUserId",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "assignedToAI": {
          "name": "assignedToAI",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "channel": {
          "name": "channel",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'web'"
        },
        "slaDeadline": {
          "name": "slaDeadline",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "firstResponseAt": {
          "name": "firstResponseAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "resolvedAt": {
          "name": "resolvedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "tags": {
          "name": "tags",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "ticket_organization_idx": {
          "name": "ticket_organization_idx",
          "columns": [
            {
              "expression": "organizationId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ticket_status_idx": {
          "name": "ticket_status_idx",
          "columns": [
            {
              "expression": "organizationId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ticket_priority_idx": {
          "name": "ticket_priority_idx",
          "columns": [
            {
              "expression": "organizationId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "priority",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ticket_assigned_idx": {
          "name": "ticket_assigned_idx",
          "columns": [
            {
              "expression": "assignedToUserId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ticket_tenant_user_idx": {
          "name": "ticket_tenant_user_idx",
          "columns": [
            {
              "expression": "tenantUserId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ticket_number_idx": {
          "name": "ticket_number_idx",
          "columns": [
            {
              "expression": "organizationId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "ticketNumber",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "ticket_organizationId_organization_id_fk": {
          "name": "ticket_organizationId_organization_id_fk",
          "tableFrom": "ticket",
          "tableTo": "organization",
          "columnsFrom": [
            "organizationId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "ticket_tenantUserId_tenant_user_id_fk": {
          "name": "ticket_tenantUserId_tenant_user_id_fk",
          "tableFrom": "ticket",
          "tableTo": "tenant_user",
          "columnsFrom": [
            "tenantUserId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "ticket_assignedToUserId_user_id_fk": {
          "name": "ticket_assignedToUserId_user_id_fk",
          "tableFrom": "ticket",
          "tableTo": "user",
          "columnsFrom": [
            "assignedToUserId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ticket_ai_triage": {
      "name": "ticket_ai_triage",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "ticketId": {
          "name": "ticketId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sentiment": {
          "name": "sentiment",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "urgencyScore": {
          "name": "urgencyScore",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "suggestedAction": {
          "name": "suggestedAction",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "suggestedPlaybook": {
          "name": "suggestedPlaybook",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "suggestedPlaybookLink": {
          "name": "suggestedPlaybookLink",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "summary": {
          "name": "summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "draftResponse": {
          "name": "draftResponse",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "confidence": {
          "name": "confidence",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "ticket_ai_triage_ticket_idx": {
          "name": "ticket_ai_triage_ticket_idx",
          "columns": [
            {
              "expression": "ticketId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "ticket_ai_triage_ticketId_ticket_id_fk": {
          "name": "ticket_ai_triage_ticketId_ticket_id_fk",
          "tableFrom": "ticket_ai_triage",
          "tableTo": "ticket",
          "columnsFrom": [
            "ticketId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "ticket_ai_triage_ticketId_unique": {
          "name": "ticket_ai_triage_ticketId_unique",
          "nullsNotDistinct": false,
          "columns": [
            "ticketId"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ticket_message": {
      "name": "ticket_message",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "ticketId": {
          "name": "ticketId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "messageType": {
          "name": "messageType",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'customer'"
        },
        "authorTenantUserId": {
          "name": "authorTenantUserId",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "authorUserId": {
          "name": "authorUserId",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "authorName": {
          "name": "authorName",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "isInternal": {
          "name": "isInternal",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "ticket_message_ticket_idx": {
          "name": "ticket_message_ticket_idx",
          "columns": [
            {
              "expression": "ticketId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ticket_message_created_idx": {
          "name": "ticket_message_created_idx",
          "columns": [
            {
              "expression": "ticketId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "createdAt",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "ticket_message_ticketId_ticket_id_fk": {
          "name": "ticket_message_ticketId_ticket_id_fk",
          "tableFrom": "ticket_message",
          "tableTo": "ticket",
          "columnsFrom": [
            "ticketId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "ticket_message_authorTenantUserId_tenant_user_id_fk": {
          "name": "ticket_message_authorTenantUserId_tenant_user_id_fk",
          "tableFrom": "ticket_message",
          "tableTo": "tenant_user",
          "columnsFrom": [
            "authorTenantUserId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "ticket_message_authorUserId_user_id_fk": {
          "name": "ticket_message_authorUserId_user_id_fk",
          "tableFrom": "ticket_message",
          "tableTo": "user",
          "columnsFrom": [
            "authorUserId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.todos": {
      "name": "todos",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "organizationId": {
          "name": "organizationId",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "todos_organization_idx": {
          "name": "todos_organization_idx",
          "columns": [
            {
              "expression": "organizationId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "todos_organizationId_organization_id_fk": {
          "name": "todos_organizationId_organization_id_fk",
          "tableFrom": "todos",
          "tableTo": "organization",
          "columnsFrom": [
            "organizationId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.usage_history": {
      "name": "usage_history",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "subscriptionId": {
          "name": "subscriptionId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "usageMeterId": {
          "name": "usageMeterId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "periodStart": {
          "name": "periodStart",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "periodEnd": {
          "name": "periodEnd",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "quantity": {
          "name": "quantity",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "recordedAt": {
          "name": "recordedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "metadata": {
          "name": "metadata",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "usage_history_subscription_idx": {
          "name": "usage_history_subscription_idx",
          "columns": [
            {
              "expression": "subscriptionId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "usage_history_meter_idx": {
          "name": "usage_history_meter_idx",
          "columns": [
            {
              "expression": "usageMeterId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "usage_history_period_idx": {
          "name": "usage_history_period_idx",
          "columns": [
            {
              "expression": "subscriptionId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "periodStart",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "usage_history_subscriptionId_subscription_id_fk": {
          "name": "usage_history_subscriptionId_subscription_id_fk",
          "tableFrom": "usage_history",
          "tableTo": "subscription",
          "columnsFrom": [
            "subscriptionId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "usage_history_usageMeterId_usage_meter_id_fk": {
          "name": "usage_history_usageMeterId_usage_meter_id_fk",
          "tableFrom": "usage_history",
          "tableTo": "usage_meter",
          "columnsFrom": [
            "usageMeterId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.usage_meter": {
      "name": "usage_meter",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "organizationId": {
          "name": "organizationId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "unit": {
          "name": "unit",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "usage_meter_organization_idx": {
          "name": "usage_meter_organization_idx",
          "columns": [
            {
              "expression": "organizationId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "usage_meter_status_idx": {
          "name": "usage_meter_status_idx",
          "columns": [
            {
              "expression": "organizationId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "usage_meter_organizationId_organization_id_fk": {
          "name": "usage_meter_organizationId_organization_id_fk",
          "tableFrom": "usage_meter",
          "tableTo": "organization",
          "columnsFrom": [
            "organizationId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user": {
      "name": "user",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "emailVerified": {
          "name": "emailVerified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "image": {
          "name": "image",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "user_email_idx": {
          "name": "user_email_idx",
          "columns": [
            {
              "expression": "email",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "user_email_unique": {
          "name": "user_email_unique",
          "nullsNotDistinct": false,
          "columns": [
            "email"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.verification": {
      "name": "verification",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "identifier": {
          "name": "identifier",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "value": {
          "name": "value",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "expiresAt": {
          "name": "expiresAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {},
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}